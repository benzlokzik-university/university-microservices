#import "@preview/modern-g7-32:0.1.0": gost

#set text(font: "Times New Roman", lang: "ru")

#show: gost.with(
  ministry: "МИНИСТЕРСТВО НАУКИ И ВЫСШЕГО ОБРАЗОВАНИЯ РОССИЙСКОЙ ФЕДЕРАЦИИ",
  organization: (
    full: "Федеральное государственное бюджетное образовательное учреждение высшего образования \"МИРЭА — Российский технологический университет\"", 
    short: "РТУ МИРЭА"
  ),
  udk: none,
  research-number: none,
  report-number: none,
  approved-by: none,
  agreed-by: none,
  report-type: "отчёт",
  about: "по практическим работам №1-4",
  subject: "Микросервисная архитектура",
  manager: (
    name: "Запорожских А.И.", 
    position: "Преподаватель"
  ),
  city: "Москва",
  performers: (
    (name: "Абраамян А.В.", position: "студент группы ИКБО-12-22"),
    (name: "Кашин С.А.", position: "студент группы ИКБО-12-22"),
  ),
)

#outline(title: "Содержание")

#pagebreak()

= Практическая работа №1

== Цель работы

Изучение основных стратегических паттернов DDD и получение прикладных навыков выделения событий предметной области с использованием Event storming.

== Ход работы

Темой для выполнения практической работы было выбрано: «Моделирование событий в системе аренды настольных игр». По ней были выделены микросервисы:

- Аккаунт пользователя;
- Каталог игр;
- Бронирование;
- Аренда;
- Оплата;
- Отзывы.

Микросервисы были распределены по членам команды. Результаты распределения представлены в таблице @table-distribution.

#figure(
  table(
    columns: 2,
    align: (left, left),
    table.header(
      [*Член команды*], [*Микросервис*],
    ),
    [Абраамян А.В.], [Аккаунт пользователя\ Каталог игр\ Бронирование],
    [Кашин С.А.], [Аренда\ Оплата\ Отзывы],
  ),
  caption: [Распределение обязанностей],
) <table-distribution>

#link("https://miro.com/app/board/uXjVLBmx9gE=/")[Ссылка на доску].

На первом этапе каждый член команды, основываясь на своем понимании процессов в системе аренды настольных игр, выписал на стикеры ключевые события, происходящие в системе, используя Event storming (рисунок @fig-ms1 - рисунок @fig-ms6).

#figure(
  image("task1/microservice_1_Аккаунт_пользователя.svg", width: 80%),
  caption: [Доменные события микросервиса «Аккаунт пользователя»],
) <fig-ms1>

#figure(
  image("task1/microservice_2_Каталог_игр.svg", width: 80%),
  caption: [Доменные события микросервиса «Каталог игр»],
) <fig-ms2>

#figure(
  image("task1/microservice_3_Бронирование.svg", width: 80%),
  caption: [Доменные события микросервиса «Бронирование»],
) <fig-ms3>

#figure(
  image("task1/microservice_4_Аренда.svg", width: 80%),
  caption: [Доменные события микросервиса «Аренда»],
) <fig-ms4>

#figure(
  image("task1/microservice_5_Оплата.svg", width: 80%),
  caption: [Доменные события микросервиса «Оплата»],
) <fig-ms5>

#figure(
  image("task1/microservice_6_Отзывы.svg", width: 80%),
  caption: [Доменные события микросервиса «Отзывы»],
) <fig-ms6>

В процессе работы над доменной моделью были описаны различные термины, значение которых может трактоваться неоднозначно, то есть составлен глоссарий.

=== Глоссарий

#list(
  [*Пользователь* — зарегистрированное лицо, которое может бронировать и арендовать игры.],
  [*Игра* — настольная игра как абстрактное понятие в каталоге (например, «Каркассон»).],
  [*Бронирование* — временная резервация игры на определенную дату, не гарантирует аренду до оплаты.],
  [*Заказ* — подтвержденное бронирование с оплатой, включающее информацию о доставке.],
  [*Аренда* — период времени, в течение которого игра находится у клиента.],
  [*Штраф* — дополнительная плата за просрочку возврата.],
  [*Доступность* — статус игры: доступна для аренды, зарезервирована, на руках у клиента, на проверке, в ремонте.],
)

== Вывод

В ходе выполнения практической работы были изучены основы методологии Event Storming и применены для анализа предметной области. На примере системы аренды настольных игр было проведено хаотическое исследование и упорядочивание событий по временной оси.

#pagebreak()

= Практическая работа №2

== Цель работы

Изучение основных элементов модели в подходе Event storming, а также получение практических навыков работы с командами модели предметной области.

== Ход работы

На первом этапе работы с моделью предметной области были выявлены разнообразные события, которые происходят в системе аренды настольных игр. После этого они были упорядочены в хронологическом порядке.

Далее необходимо перейти к выделению команд. Вместе с выделением команд также указаны действующие лица, которые эти команды вызывают (рисунок @fig-task2-1 - рисунок @fig-task2-6).

#figure(
  image("task2/Снимок экрана 2025-09-30 в 18.02.30.png", width: 90%),
  caption: [Регистрация и авторизация пользователей],
) <fig-task2-1>

#figure(
  image("task2/Снимок экрана 2025-09-30 в 18.02.42.png", width: 90%),
  caption: [Управление профилем и каталогом игр],
) <fig-task2-2>

#figure(
  image("task2/Снимок экрана 2025-09-30 в 18.02.51.png", width: 90%),
  caption: [Обновление информации об играх и бронирование],
) <fig-task2-3>

#figure(
  image("task2/Снимок экрана 2025-09-30 в 18.03.00.png", width: 90%),
  caption: [Создание заказа и подтверждение получения],
) <fig-task2-4>

#figure(
  image("task2/Снимок экрана 2025-09-30 в 18.03.18.png", width: 90%),
  caption: [Оплата, аренда и возврат средств],
) <fig-task2-5>

#figure(
  image("task2/Снимок экрана 2025-09-30 в 18.03.33.png", width: 90%),
  caption: [Возврат игры и оставление отзывов],
) <fig-task2-6>

== Вывод

В ходе выполнения практической работы были изучены основные элементы модели в подходе Event storming, а также получены практические навыки работы с командами модели предметной области. Были выделены команды и определены действующие лица для системы аренды настольных игр.

#pagebreak()

= Практическая работа №3

== Цель работы

Получение практических навыков выделения ограниченных контекстов предметной области, а также изучение основных элементов подхода Event storming.

== Ход работы

Агрегат – это сложная сущность, которая может представлять собой целый кластер из сущностей и объектов-значений. Выделим агрегаты с помощью Event storming. После того как агрегат выделен, необходимо сгруппировать вокруг него команды и события, которые к нему относятся. Добавим внешние системы на нашу модель. Далее необходимо будет разделить агрегаты на определённые ограниченные контексты. В результате моделирования все агрегаты должны оказаться в каком-нибудь ограниченном контексте.

На рисунках @fig-task3-1 - @fig-task3-6 показаны выделенные ограниченные контексты и помещенные в них агрегаты.

#figure(
  image("task3/1 аккаунт пользователя.png", width: 90%),
  caption: [Контекст «Аккаунт пользователя»],
) <fig-task3-1>

#figure(
  image("task3/2 каталог игр.png", width: 90%),
  caption: [Контекст «Каталог игр»],
) <fig-task3-2>

#figure(
  image("task3/3 бронирование.png", width: 90%),
  caption: [Контекст «Бронирование»],
) <fig-task3-3>

#figure(
  image("task3/4 аренда.png", width: 90%),
  caption: [Контекст «Аренда»],
) <fig-task3-4>

#figure(
  image("task3/5 оплата.png", width: 90%),
  caption: [Контекст «Оплата»],
) <fig-task3-5>

#figure(
  image("task3/6 оценка.png", width: 90%),
  caption: [Контекст «Отзывы»],
) <fig-task3-6>

== Вывод

В ходе выполнения практической работы были получены практические навыки выделения ограниченных контекстов предметной области, а также изучены основные элементы подхода Event storming. Были выделены агрегаты и сгруппированы команды и события вокруг них для системы аренды настольных игр.
